{"ast":null,"code":"import _defineProperty from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/piyush rathod/client/my_first_app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import template from\"./Registration.jsx\";import axios from\"axios\";var Registration=/*#__PURE__*/function(_React$Component){_inherits(Registration,_React$Component);var _super=_createSuper(Registration);function Registration(){var _this;_classCallCheck(this,Registration);_this=_super.call(this);_this.state={data:{stu_id:'',stu_name:'',stu_class:'',stu_location:''},students:[]};_this.fnUpdate=_this.fnUpdate.bind(_assertThisInitialized(_this));_this.fnEdit=_this.fnEdit.bind(_assertThisInitialized(_this));// this.fnGetStudents=this.fnGetStudents(this);\nreturn _this;}_createClass(Registration,[{key:\"render\",value:function render(){return template.call(this);}},{key:\"componentDidMount\",value:function componentDidMount(){this.fnGetStudents();}},{key:\"fn\",value:function fn(e){var value=e.target.value;var id=e.target.id;this.setState({data:_objectSpread(_objectSpread({},this.state.data),{},_defineProperty({},id,value))});}},{key:\"fnreg\",value:function fnreg(){var _this2=this;console.log(\"Hello From Fnreg\");console.log(this.state.data);var httpobj=new XMLHttpRequest();httpobj.open('post',\"http://localhost:8001/student/insert-std\");httpobj.setRequestHeader('Content-type','application/json');httpobj.send(JSON.stringify(this.state.data));httpobj.onload=function(){var res=httpobj.responseText;console.log(httpobj.responseText);res=JSON.parse(res);if(res.affectedRows>0){alert(\"Success\");_this2.setState({data:{stu_name:'',stu_location:'',stu_class:''}});_this2.fnGetStudents();}else{alert(\"fail...try again\");}httpobj.onerror=function(){var res=httpobj.responseText;console.log(httpobj.responseText);alert(\"fail\"+res);};};}},{key:\"fnGetStudents\",value:function fnGetStudents(){var _this3=this;fetch('http://localhost:8001/student/get-std').then(function(res){return res.json();}).then(function(result){_this3.setState({students:result});});console.log(\"students\"+this.state.students);}},{key:\"fnDelete\",value:function fnDelete(id){var _this4=this;var isOk=window.confirm(\"R u sure..?\");if(isOk){axios.delete(\"http://localhost:8001/student/delete-std?id=\"+id).then(function(res){console.log(res);if(res.data==\"delete sucessfelly\"){alert('Sucess..');}else{alert('failed..');}_this4.fnGetStudents();});}}},{key:\"fnEdit\",value:function fnEdit(obj){var stu_class=obj.stu_class,stu_location=obj.stu_location,stu_name=obj.stu_name,stu_id=obj.stu_id;var isok=window.confirm(\"Confirm Edit..\");if(isok){this.setState({data:{stu_id:stu_id,stu_name:obj.stu_name,stu_class:obj.stu_class,stu_location:obj.stu_location},flag:1});}}},{key:\"fnUpdate\",value:function fnUpdate(){var _this5=this;console.log(\"from fn update piyush\");fetch(\"http://localhost:8001/student/update-std?stu_id=\"+this.state.data.stu_id,{method:'PUT',headers:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(this.state.data)}).then(function(response){return response.json();}).then(function(json){_this5.fnGetStudents();});this.setState({data:{stu_name:'',stu_location:'',stu_class:''},flag:0});}}]);return Registration;}(React.Component);export default Registration;","map":{"version":3,"sources":["C:/Users/piyush rathod/client/my_first_app/src/Registration/Registration.js"],"names":["React","template","axios","Registration","state","data","stu_id","stu_name","stu_class","stu_location","students","fnUpdate","bind","fnEdit","call","fnGetStudents","e","value","target","id","setState","console","log","httpobj","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","res","responseText","parse","affectedRows","alert","onerror","fetch","then","json","result","isOk","window","confirm","delete","obj","isok","flag","method","headers","body","response","Component"],"mappings":"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","sourcesContent":["import React    from \"react\";\nimport template from \"./Registration.jsx\";\nimport axios from \"axios\";\n\nclass Registration extends React.Component {\n  constructor(){\n    super();\n    this.state={\n      data:{\n        stu_id:'',\n        stu_name:'',\n        stu_class:'',\n        stu_location:'',\n      },\n      students:[],\n    }\n    this.fnUpdate=this.fnUpdate.bind(this);\n    this.fnEdit=this.fnEdit.bind(this);\n    // this.fnGetStudents=this.fnGetStudents(this);\n\n  }\n  render() {\n    return template.call(this);\n  }\n\n  componentDidMount(){\n    this.fnGetStudents();\n  }\n\n  fn(e){\n let value=e.target.value;\n var id=e.target.id\n\nthis.setState({\n  data:{\n    ...this.state.data,\n    [id]:value \n  }\n})\n\n\n}\nfnreg(){\n  console.log(\"Hello From Fnreg\");\n  console.log(this.state.data);\n  let httpobj = new XMLHttpRequest();\n  httpobj.open('post',\"http://localhost:8001/student/insert-std\");\n  httpobj.setRequestHeader('Content-type','application/json');\n  httpobj.send(JSON.stringify(this.state.data));\n  \n\n  httpobj.onload=()=>{\n    var res = httpobj.responseText;\n    console.log(httpobj.responseText);\n    res = JSON.parse(res);\n    if(res.affectedRows>0){\n      alert(\"Success\");\n      this.setState({\n        data: {\n          \n        stu_name:'',\n        stu_location:'',\n        stu_class:''\n        },\n      });\n      this.fnGetStudents();\n    }else{\n      alert(\"fail...try again\")\n    }\n    httpobj.onerror=()=>{\n      var res = httpobj.responseText;\n      console.log(httpobj.responseText);\n      alert(\"fail\"+res);\n   }\n\n  }\n    \n  }\n\n fnGetStudents(){\n    fetch('http://localhost:8001/student/get-std')\n    .then((res)=>{\n      return res.json();\n    })\n    .then((result)=>{\n      this.setState({\n        students:result\n      })\n    })\n    console.log(\"students\"+this.state.students);\n  }\n\n  fnDelete (id){\n    let isOk = window.confirm(\"R u sure..?\");\n    if(isOk){\n      axios.delete(\"http://localhost:8001/student/delete-std?id=\"+id)\n      .then((res)=>{\n        console.log(res);\n        if(res.data == \"delete sucessfelly\"){\n          alert('Sucess..');\n          }\n        else{\n          alert('failed..');\n        }\n        this.fnGetStudents();\n      })\n    }\n  }\n\nfnEdit(obj){\n  \n  const {stu_class,stu_location,stu_name,stu_id} = obj;\n  let isok = window.confirm(\"Confirm Edit..\")\n \n  if(isok){\n    this.setState({\n      data:{\n        stu_id:stu_id,\n        stu_name:obj.stu_name,\n        stu_class:obj.stu_class,\n        stu_location:obj.stu_location\n      },\n      flag:1\n    })\n \n    }\n}\n\nfnUpdate(){\n  console.log(\"from fn update piyush\")\n  fetch(\"http://localhost:8001/student/update-std?stu_id=\"+this.state.data.stu_id,\n{\n    method:'PUT',\n    headers:{\n     'Accept':'application/json',\n     'Content-Type':'application/json'\n    },\n    body:JSON.stringify(this.state.data)\n \n   }).then((response)=> response.json())\n   .then((json) =>{\n    this.fnGetStudents();\n    });\n    this.setState({\n      data: {\n        stu_name:'',\n        stu_location:'',\n        stu_class:''\n      },\n      flag:0\n    });\n  }\n}\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}